@use 'microscope-sass/lib/bem';
@use '@utrecht/components/link'; // emits the .utrecht-link {...} styles

.openforms-previous-link {
  display: flex;
  flex-direction: row;
  align-items: center;
  column-gap: var(
    --of-previous-link-column-gap,
    // Deprecated fallback to make upgrading easier, will be removed in 4.0.
    var(--utrecht-button-column-gap, 8px)
  );

  padding-block-end: var(
    --of-previous-link-padding-block-end,
    // Deprecated fallback to make upgrading easier, will be removed in 4.0.
    var(--utrecht-button-padding-block-end)
  );
  padding-block-start: var(
    --of-previous-link-padding-block-start,
    // Deprecated fallback to make upgrading easier, will be removed in 4.0.
    var(--utrecht-button-padding-block-start)
  );

  @include bem.modifier('start') {
    margin-block-end: 20px;
    // NOTE: usually block elements should not define margins, but this is done deliberately
    // See https://github.com/open-formulieren/open-forms-sdk/pull/718#discussion_r1791617060 for
    // more discussion context.
    display: var(--of-previous-link-display-start, none);
  }

  @include bem.modifier('end') {
    display: var(--of-previous-link-display-end, flex);
  }

  @include bem.element('icon') {
    // allow hiding the icon entirely, if desired
    display: var(--of-previous-link-icon-display, inline-block);
  }

  // hack to apply the link styles only on the text and not on the icon. Because of the
  // flexbox, the icon is forced into block display mode, which *does* render underlines,
  // unlike inline-block.
  &.utrecht-link:any-link {
    text-decoration-line: none;
  }

  @include bem.element('text') {
    @extend .utrecht-link, :any-link;
    &:hover {
      @extend .utrecht-link--hover;
    }
    &:focus-visible {
      @extend .utrecht-link--focus-visible;
    }
    &:focus {
      @extend .utrecht-link--focus;
    }
    &:active {
      @extend .utrecht-link--active;
    }
  }
}
